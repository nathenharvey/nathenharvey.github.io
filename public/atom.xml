<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Nathen Harvey]]></title>
  <link href="http://www.nathenharvey.com/atom.xml" rel="self"/>
  <link href="http://www.nathenharvey.com/"/>
  <updated>2012-01-13T19:24:56-05:00</updated>
  <id>http://www.nathenharvey.com/</id>
  <author>
    <name><![CDATA[Nathen Harvey]]></name>
    <email><![CDATA[nathen@nathenharvey.com]]></email>
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Collaborating with Chef]]></title>
    <link href="http://www.nathenharvey.com/blog/2012/01/13/collaborating-with-chef/"/>
    <updated>2012-01-13T16:25:00-05:00</updated>
    <id>http://www.nathenharvey.com/blog/2012/01/13/collaborating-with-chef</id>
    <content type="html"><![CDATA[<p>This week at <a href="http://www.customink.com">CustomInk</a>, the Web Operations team was asked by the development teams to make some configuration changes on a couple of different servers.</p>

<p>They were simple changes, adding a line or two to the services.yml file for each application. The details really aren&#8217;t important but let&#8217;s look at how we worked together to implement the changes.</p>

<h2>Before Chef</h2>

<p>In the past, here&#8217;s how the changes likely would have been implemented.</p>

<ol>
<li>Developer realizes a change is required.</li>
<li>Developer asks the ops team to make the change</li>
<li>Ops makes the update using the appropriate tools</li>
</ol>


<p>OR</p>

<ol>
<li>Developer realizes a change is required.</li>
<li>Developer considers asking the ops team to make the change but thinks better of it</li>
<li>Developer makes the change manually, Ops doesn&#8217;t know, Ops can no longer provision a new server properly.</li>
</ol>


<h2>With Chef</h2>

<p>We&#8217;ve been using Chef for some time and have just started asking our developers to help maintain their own apps. This week, two applications needed to know about some additional external services. This required a simple update to a YAML file in each application. In both cases, I asked the developers to clone our chef repo, make the changes they needed, and submit a pull request.</p>

<p>In one instance, the simple services.yml turned into a pull request with updates to a number of nagios nrpe checks that we&#8217;re running. Something that the developer didn&#8217;t ask for originally but took the initiative to add while in the code.</p>

<p>Thanks to <a href="http://twitter.com/chmurph2">@chmurph2</a> and <a href="http://twitter.com/jmorton">@jmorton</a> for taking their first steps into Chef.</p>

<p>Is this a huge accomplishment? No.  But it is a great first step.</p>

<blockquote><p>.@nathenharvey Working together == every engineer is on the same team and you stop celebrating (or thinking about) cross-team collaboration.</p><footer><strong>@btmerr</strong> <cite><a href='https://twitter.com/#!/btmerr/status/157941260680835072'>twitter.com/#!/btmerr/status/&hellip;</a></cite></footer></blockquote>


<p>We&#8217;ve always worked as one team but continue to have some clear areas of responsibility. While I understand what Brian&#8217;s saying, I&#8217;m not sure everyone doing everything makes sense. We&#8217;re one team but we each have our strengths. Agree that we should stop celebrating about this a cross-team collaboration; it should be the norm.  But, we have to start somewhere and these were the first steps into the world of infrastructure as code for the developers. In my mind, that&#8217;s a WIN!</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Deploying Green Screen]]></title>
    <link href="http://www.nathenharvey.com/blog/2012/01/02/deploying-green-screen/"/>
    <updated>2012-01-02T16:59:00-05:00</updated>
    <id>http://www.nathenharvey.com/blog/2012/01/02/deploying-green-screen</id>
    <content type="html"><![CDATA[<p>In my <a href="http://nathenharvey.com/blog/2012/01/02/green-screen/">previous post</a>, I introduced <a href="https://github.com/customink/greenscreen">Green Screen</a>, a build monitoring tool that is designed to be used as a dynamic Big Visible Chart (BVC) in your work area.  It lets you add links to your build servers and displays the largest possible information on a monitor so that the team can see the build status from anywhere in the room.</p>

<p>It is easy enough to get <a href="https://github.com/customink/greenscreen">Green Screen</a> up and running on your own server or VM. The project&#8217;s <a href="https://github.com/customink/greenscreen/blob/master/README.md">README</a> includes all the information you&#8217;ll need for doing so. In this post, I&#8217;ll describe the steps necessary to run Green Screen on Heroku or on your own server using Chef.</p>

<h2>Deploying to Heroku</h2>

<p>Deploying to <a href="http://www.heroku.com/">Heroku</a> is probably the easiest way to get up and running with Green Screen. You&#8217;ll need a Heroku account but a free one should be sufficient. Check the <a href="http://devcenter.heroku.com/articles/quickstart">quick start guide</a> if you don&#8217;t yet have an account.</p>

<p>Once you&#8217;ve got your Heroku account set-up, simply follow these steps to get your Green Screen app deployed:</p>

<ol>
<li><code>git clone git@github.com:customink/greenscreen.git</code></li>
<li><code>cd greenscreen</code></li>
<li><code>gem install heroku</code></li>
<li><code>heroku create</code></li>
<li><code>git push heroku master</code></li>
<li><code>heroku open</code></li>
</ol>


<p>If your build servers are running on the Internet, Heroku may be all that you need.</p>

<p><strong>Warning</strong> this default Green Screen looks at all of the builds currently running on <a href="http://ci.jenkins-ci.org">http://ci.jenkins-ci.org</a>.  This is fine for demo purposes but you may find it to be a bit overwhelming since it&#8217;s <strong>over 300 builds</strong> at the time of this writing.</p>

<p>You can see a sample of this app running at <a href="http://greenscreenapp.com">http://greenscreenapp.com</a></p>

<!--more-->


<h2>Deploying with Chef</h2>

<p>If your build servers are not publicly accessible, Heroku won&#8217;t be a great option. <a href="http://www.customink.com">CustomInk</a> has published a <a href="http://community.opscode.com/cookbooks/greenscreen">Chef cookbook</a> for setting up Green Screen on one of your nodes.</p>

<p>You simply need to include the greenscreen recipe to install, configure, and run one or more GreenScreen applications.  Or add it to your role, or directly to a node&#8217;s recipes.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">include_recipe</span> <span class="s2">&quot;greenscreen&quot;</span>
</span></code></pre></td></tr></table></div></figure>


<p>Of course, if you&#8217;re just getting started with Chef, you should look at <a href="http://vagrantup.com/">Vagrant</a> which is a tool for building and distributing virtualized development environments. With Vagrant, you can quickly spin-up a VM in <a href="http://www.virtualbox.org/">VirtualBox</a> and have it use the greenscreen cookbook.</p>

<p>The cookbook allows you to specify credentials and jobs to include or ignore with each server and allows you to set-up multiple Green Screens on the same node. At CustomInk, we use different Green Screen applications for different teams.</p>

<p>Here&#8217;s an excerpt from one of our Chef environment files:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="s2">&quot;greenscreens&quot;</span> <span class="o">=&gt;</span> <span class="o">[</span>
</span><span class='line'>  <span class="p">{</span>
</span><span class='line'>    <span class="ss">:name</span> <span class="o">=&gt;</span> <span class="s2">&quot;greenscreen&quot;</span><span class="p">,</span>
</span><span class='line'>    <span class="ss">:port</span> <span class="o">=&gt;</span> <span class="s2">&quot;4567&quot;</span><span class="p">,</span>
</span><span class='line'>    <span class="ss">:servers</span> <span class="o">=&gt;</span> <span class="o">[</span>
</span><span class='line'>      <span class="p">{</span>
</span><span class='line'>        <span class="ss">:url</span> <span class="o">=&gt;</span> <span class="s2">&quot;http://build01.customink.office:8080/cc.xml&quot;</span>
</span><span class='line'>      <span class="p">},</span>
</span><span class='line'>      <span class="p">{</span>
</span><span class='line'>        <span class="ss">:url</span> <span class="o">=&gt;</span> <span class="s2">&quot;http://build02.customink.office:8080/cc.xml&quot;</span><span class="p">,</span>
</span><span class='line'>        <span class="ss">:username</span> <span class="o">=&gt;</span> <span class="s2">&quot;hudson&quot;</span><span class="p">,</span>
</span><span class='line'>        <span class="ss">:password</span> <span class="o">=&gt;</span> <span class="s2">&quot;hudson_password&quot;</span>
</span><span class='line'>      <span class="p">},</span>
</span><span class='line'>      <span class="p">{</span>
</span><span class='line'>        <span class="ss">:url</span> <span class="o">=&gt;</span> <span class="s2">&quot;http://build03.customink.office:8080/cc.xml&quot;</span><span class="p">,</span>
</span><span class='line'>        <span class="ss">:username</span> <span class="o">=&gt;</span> <span class="s2">&quot;hudson&quot;</span><span class="p">,</span>
</span><span class='line'>        <span class="ss">:password</span> <span class="o">=&gt;</span> <span class="s2">&quot;hudson_password&quot;</span><span class="p">,</span>
</span><span class='line'>        <span class="ss">:ignore_jobs</span> <span class="o">=&gt;</span> <span class="o">[</span><span class="s2">&quot;www_redirects&quot;</span><span class="o">]</span>
</span><span class='line'>      <span class="p">}</span>
</span><span class='line'>    <span class="o">]</span>
</span><span class='line'>  <span class="p">},</span>
</span><span class='line'>  <span class="p">{</span>
</span><span class='line'>    <span class="ss">:name</span> <span class="o">=&gt;</span> <span class="s2">&quot;greenscreen.webops&quot;</span><span class="p">,</span>
</span><span class='line'>    <span class="ss">:port</span> <span class="o">=&gt;</span> <span class="s2">&quot;4568&quot;</span><span class="p">,</span>
</span><span class='line'>    <span class="ss">:servers</span> <span class="o">=&gt;</span> <span class="o">[</span>
</span><span class='line'>      <span class="p">{</span>
</span><span class='line'>        <span class="ss">:url</span> <span class="o">=&gt;</span> <span class="s2">&quot;http://build03.customink.office:8080/cc.xml&quot;</span><span class="p">,</span>
</span><span class='line'>        <span class="ss">:username</span> <span class="o">=&gt;</span> <span class="s2">&quot;hudson&quot;</span><span class="p">,</span>
</span><span class='line'>        <span class="ss">:password</span> <span class="o">=&gt;</span> <span class="s2">&quot;hudson_password&quot;</span><span class="p">,</span>
</span><span class='line'>        <span class="ss">:jobs</span> <span class="o">=&gt;</span> <span class="o">[</span><span class="s2">&quot;www_redirects&quot;</span><span class="o">]</span>
</span><span class='line'>      <span class="p">},</span>
</span><span class='line'>      <span class="p">{</span>
</span><span class='line'>        <span class="ss">:url</span> <span class="o">=&gt;</span> <span class="s2">&quot;http://build04.customink.office/cc.xml&quot;</span><span class="p">,</span>
</span><span class='line'>        <span class="ss">:username</span> <span class="o">=&gt;</span> <span class="s2">&quot;jenkins&quot;</span><span class="p">,</span>
</span><span class='line'>        <span class="ss">:password</span> <span class="o">=&gt;</span> <span class="s2">&quot;jenkis_password&quot;</span>
</span><span class='line'>      <span class="p">}</span>
</span><span class='line'>    <span class="o">]</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'><span class="o">]</span>
</span></code></pre></td></tr></table></div></figure>


<p>With this configuration, we have 2 Green Screens running, on ports 4567 and 4568. Both are polling build servers and showing different jobs. For instance, the server on 4567 excludes the www_redirects build (<code>:ignore_jobs =&gt; ["www_redirects"]</code>) whereas the server on 4568 only includes this build (<code>:jobs =&gt; ["www_redirects"]</code>) when polling the build03 server.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Green Screen]]></title>
    <link href="http://www.nathenharvey.com/blog/2012/01/02/green-screen/"/>
    <updated>2012-01-02T14:17:00-05:00</updated>
    <id>http://www.nathenharvey.com/blog/2012/01/02/green-screen</id>
    <content type="html"><![CDATA[<p><a href="https://github.com/customink/greenscreen">Green Screen</a> is a build monitoring tool that is designed to be used as a dynamic Big Visible Chart (BVC) in your work area. It lets you add links to your build servers and displays the largest possible information on a monitor so that the team can see the build status from anywhere in the room.</p>

<p><img class="right" src="http://nathenharvey.s3-website-us-east-1.amazonaws.com/blog/images/greenscreen/greenscreen.jpg" width="300" height="225" title="Green Screen Monitor" alt="Green Screen Monitor">
We use Green Screen at <a href="http://www.customink.com">CustomInk</a> to look after our continuous integration servers, currently 3 Hudson servers and one Jenkins cluster. We have a monitor mounted in the engineering office that makes it easy for everyone to quickly assess the build status.</p>

<p>Green Screen is a simple Sinatra application that is <a href="http://nathenharvey.com/blog/2012/01/02/deploying-green-screen">easy to configure and deploy</a>.  It works well with any continuous integration server that conforms to the <a href="http://confluence.public.thoughtworks.org/display/CI/Multiple+Project+Summary+Reporting+Standard">multiple project summary reporting standard</a>.</p>

<p>You can see a sample Green Screen app running at <a href="http://greenscreenapp.com">http://greenscreenapp.com</a>.  Be forewarned, this sample Green Screen looks at all of the builds currently running on <a href="http://ci.jenkins-ci.org">http://ci.jenkins-ci.org</a>.  This is fine for demo purposes but you may find it to be a bit overwhelming since it&#8217;s <strong>over 300 builds</strong> at the time of this writing.</p>

<!--more-->


<h2>History</h2>

<p>Green Screen was originally implemented by <a href="https://github.com/martinjandrews">Marty Andrews</a> and <a href="http://blog.martyandrews.net/2009/08/greenscreen-build-monitor-bvc.html">announced on his blog in 2009</a>. In the original version, a build that was in progress would blink on the screen.
<a href="http://nathenharvey.s3-website-us-east-1.amazonaws.com/blog/images/greenscreen/4565_building.jpg"><img class="center" src="http://nathenharvey.s3-website-us-east-1.amazonaws.com/blog/images/greenscreen/4565_building.jpg" width="208" height="145" title="martinjandrews Green Screen" alt="martinjandrews Green Screen"></a></p>

<p><a href="https://github.com/rsutphin">Rhett Sutphin</a> improved the layout of green screen and introduced a new color, yellow, for builds that are in progress.
<a href="http://nathenharvey.s3-website-us-east-1.amazonaws.com/blog/images/greenscreen/4566-building.jpg"><img class="center" src="http://nathenharvey.s3-website-us-east-1.amazonaws.com/blog/images/greenscreen/4566-building.jpg" width="207" height="145" title="rsutphin Green Screen" alt="rsutphin Green Screen"></a></p>

<p>After using these versions for a while at CustomInk, we decided that the most important thing to know was which builds were failing. Once you get past a handful of builds, it&#8217;s no longer very interesting to see every build. We forked Rhett&#8217;s version and created a <a href="https://github.com/customink/greenscreen">new layout for Green Screen</a>.</p>

<p>If everything is passing, the screen is basically one giant checkmark.</p>

<p><a href="http://nathenharvey.s3-website-us-east-1.amazonaws.com/blog/images/greenscreen/green.jpg"><img class="center" src="http://nathenharvey.s3-website-us-east-1.amazonaws.com/blog/images/greenscreen/green.jpg" width="210" height="119" title="customink Green Screen" alt="customink Green Screen"></a></p>

<p>If there are any failing builds, they&#8217;re shown in the main area while all others are displayed on the right.</p>

<p><a href="http://nathenharvey.s3-website-us-east-1.amazonaws.com/blog/images/greenscreen/4567.jpg"><img class="center" src="http://nathenharvey.s3-website-us-east-1.amazonaws.com/blog/images/greenscreen/4567.jpg" width="210" height="121" title="customink failed build" alt="customink failed build"></a></p>

<p>Finally, a build that previously failed will be shown in yellow while it&#8217;s rebuilding.</p>

<p><a href="http://nathenharvey.s3-website-us-east-1.amazonaws.com/blog/images/greenscreen/4567_building.jpg"><img class="center" src="http://nathenharvey.s3-website-us-east-1.amazonaws.com/blog/images/greenscreen/4567_building.jpg" width="210" height="121" title="customink building" alt="customink building">
</a>
We&#8217;ve also added support for controlling which builds are displayed from each CI server. So that you can explicitly include or exclude builds or just go with the default behavior of showing all builds on the server.</p>

<h2>Deploying</h2>

<p>I&#8217;ll cover a couple of deployment options for Green Screen in my <a href="http://nathenharvey.com/blog/2012/01/02/deploying-green-screen">next post</a>.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Octopress]]></title>
    <link href="http://www.nathenharvey.com/blog/2011/12/30/octopress/"/>
    <updated>2011-12-30T00:42:00-05:00</updated>
    <id>http://www.nathenharvey.com/blog/2011/12/30/octopress</id>
    <content type="html"><![CDATA[<p><img class="right" src="http://nathenharvey.s3-website-us-east-1.amazonaws.com/blog/images/octopress.png" width="300" height="225" title="Octopress" alt="Octopress">
I&#8217;ve recently switched my blog from <a href="http://www.blogger.com">Blogger</a> to <a href="http://octopress.org">Octopress</a>. After working with Blogger, WordPress, and TypePad I&#8217;ve found that the Octopress works best for my personal blog.</p>

<p>Creating and editing posts in a text editor instead of a browser is a step-saver for me.  Previously I always worked with a local copy of each article and would cut-n-paste between my text editor and the browser.</p>

<p>The rake- and git-based workflow feels very natural.  After all, this is a &#8220;blogging framework for hackers.&#8221;</p>

<p>The standard layout and plugins are working well for me with little customization.</p>

<p>Deploying is a snap. I&#8217;m currently using <a href="http://heroku.com">Heroku</a> to host the blog but could just as easily be using <a href="http://pages.github.com/">github:pages</a>.</p>

<p>The simplicity and familiar workflow really make for an excellent blogging platform! Thanks <a href="http://twitter.com/imathis">@imathis</a> for giving us <a href="http://octopress.org">Octopress</a>!</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[MongoDB Community Awards]]></title>
    <link href="http://www.nathenharvey.com/blog/2011/12/29/mongodb-community-awards/"/>
    <updated>2011-12-29T23:54:00-05:00</updated>
    <id>http://www.nathenharvey.com/blog/2011/12/29/mongodb-community-awards</id>
    <content type="html"><![CDATA[<p>During this year&#8217;s <a href="http://www.10gen.com/events/mongosv-2011">MongoSV</a>, <a href="http://10gen.com">10gen</a> presented awards to peer-nominated community members for their contributions to the MongoDB project.</p>

<p>There were <a href="http://blog.10gen.com/post/12290733213/mongodb-community-awards-to-be-presented-at-mongosv">3 different categories</a>:</p>

<ol>
<li><strong>Innovative Application Award</strong> - recognizes a company or individual who has built an innovative application using MongoDB.</li>
<li><strong>Core Contributor Award</strong> - recognizes a community member for significant contribution to the codebase of the MongoDB core server, language drivers, or tools.</li>
<li><strong>Community Champion Award</strong> - recognizes an individual for their efforts evangelizing and growing the MongoDB community.</li>
</ol>


<p>This is the first year that 10gen has organized these awards. I think they&#8217;re a great way to recognize the contributions made by a few members of the community. I hope a significant portion of people in the community took the time to nominate or vote for another individual.  I suspect more community members will participate and 10gen will do a more to advertise the program in years to come.</p>

<!--more-->


<h2>Community Champion Award</h2>

<p>I was honored to be selected as a <a href="http://blog.10gen.com/post/13835130448/voting-open-for-the-mongodb-community-awards-winners">finalist in the Community Champion category</a>. As a co-organizer for both the <a href="http://www.meetup.com/Washington-DC-MongoDB-Users-Group/">Washington DC MongoDB User Group</a> and <a href="http://www.meetup.com/DevOpsDC/">DevOps DC</a>, I work to bring together people who are interested in MongoDB and other great technologies. We&#8217;ve grown the MongoDB group to over 250 members through consistent meetings, detailed event summaries, and good beer.</p>

<h2>I&#8217;m going to SXSW Interactive!</h2>

<p><img class="right" src="http://nathenharvey.s3-website-us-east-1.amazonaws.com/blog/images/sxsw_interactive.png" width="352" height="169" title="SXSW Interactive" alt="SXSW Interactive"></p>

<p>Shortly before the voting was opened to the public, 10gen announced the <a href="http://blog.10gen.com/post/12838656615/mongodb-community-awards-grand-prize-announcement">grand prize</a>:  a trip to <a href="http://sxsw.com/interactive">South By Southwest Interactive</a>. The nomination and being selected as a finalist were a great recognition of my effort and accomplishments. However, I&#8217;ve always wanted to got to SXSW.  Once I found out this was the prize, I was really excited at the possibility of winning the award!</p>

<p>As I reviewed the finalists, I was pretty certain I wouldn&#8217;t be selected as the winner. Everyone on the list has made some incredible contributions to the community.</p>

<p>At the end of MongoSV the <a href="http://blog.10gen.com/post/14278640986/announcing-the-2011-mongodb-community-award-winners">winners were announced</a>. It was quite a surprise to find out I&#8217;d been selected as the winner in the Community Champion category! This was the perfect end to a great two days for me which included the <a href="http://nathenharvey.com/blog/2011/12/29/mongodb-masters/">MongoDB Masters Summit</a> and <a href="http://nathenharvey.com/blog/2011/12/29/mongosv/">presenting at the conference</a>.</p>

<h2>Thanks!</h2>

<p>A heartfelt <strong>THANK YOU</strong> is in order for all of the members of the <strong>MongoDC</strong> group who nominated and voted for me, for <strong>10gen</strong> for organizing the contest and awards, and my <strong>colleagues, friends, and family</strong> who &#8216;rocked the vote&#8217;!</p>

<p>I&#8217;m looking forward to meeting up with the other Community Award winners in Austin!</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[MongoSV]]></title>
    <link href="http://www.nathenharvey.com/blog/2011/12/29/mongosv/"/>
    <updated>2011-12-29T15:45:00-05:00</updated>
    <id>http://www.nathenharvey.com/blog/2011/12/29/mongosv</id>
    <content type="html"><![CDATA[<p>I was selected to share some of my experience with MongoDB at MongoSV.</p>

<blockquote><p>MongoSV is an annual one-day conference in Silicon Valley dedicated to the open source, non-relational database MongoDB. The comprehensive agenda includes 50+ sessions covering topics for both the novice and experienced user, with presentations from 10gen engineers as well as MongoDB users.</p><footer><strong>10gen</strong> <cite><a href='http://www.10gen.com/events/mongosv-2011'>MongoSV 2011</a></cite></footer></blockquote>


<h2>Impressions and Observations</h2>

<p><img class="right" src="http://nathenharvey.s3-website-us-east-1.amazonaws.com/blog/images/mongosv.jpg" width="400" height="299" title="MongoSV" alt="MongoSV">
I&#8217;ve been to a few other similar MongoDB events in NYC and DC but this was the largest by far.  There were over 1,000 attendees and 5 tracks plus whiteboard and birds of a feather sessions.</p>

<h3>Schema free != Design free</h3>

<p>As freeing as a document store is, there&#8217;s still work to be done in designing how you&#8217;ll store and retrieve your data. It&#8217;s super-easy to get up and running without giving this much thought but you <em>will</em> need to design your documents eventually. There were at least 3 sessions about schema design during MongoSV.</p>

<h3>Aggregation Framework</h3>

<p>The new aggregation framework is great, highly anticipated, and much needed. During the Keynote, <a href="http://twitter.com/eliothorowitz">Eliot Horowitz</a> demonstrated an application built on MonogDB that used the Twitter API to capture tweets related to the day&#8217;s events. The demo site ran throughout the day and was used in a contest to see who tweeted the most about the conference and who was mentioned most. The source code for the app was subsequently made available on <a href="https://github.com/erh/mongosv-twitter-demo">github</a>. Check out <a href="http://twitter.com/cwestin63">Chris Westin</a>&#8217;s  presentation on <a href="http://www.10gen.com/presentations/mongosv-2011/mongodbs-new-aggregation-framework">MongoDB&#8217;s New Aggregation Framework</a>.</p>

<!--more-->


<h2>MongoDB at CustomInk - Adoption, Operations, and Community</h2>

<p>My presentation, &#8221;<strong>MongoDB at CustomInk - Adoption, Operations, and Community</strong>&#8221;, detailed some of the reasons we decided to go with MongoDB, the challenges we faced bringing it into the organization, how we&#8217;re using it in production today, lessons learned, and some of our future plans. I also covered some of the operational considerations for putting MongoDB into production: how do we deploy, operate, and monitor MongoDB. I also described <a href="http://www.customink.com">CustomInk</a>&#8217;s involvement in the MongoDB community.</p>

<p>You can catch a <a href="http://www.10gen.com/presentations/mongosv-2011/mongodb-at-customink-adoption-operations-and-community">video of my presentation on the 10gen site</a> or just checkout the slides below.</p>

<script src="http://speakerdeck.com/embed/4ee19eec04357e0050004017.js"></script>


<h2>MongoDB at shutterfly</h2>

<p>It was great to meet <a href="http://twitter.com/kennygorman">Kenny Gorman</a> from shutterfly and share some of our experiences with MongoDB. <a href="http://www.shutterfly.com/">shutterfly</a> and <a href="http://www.customink.com">CustomInk</a> have a lot in common. Of course, both are online retailers but some other things that we share include:</p>

<ul>
<li>Products are designed by the customer</li>
<li>Products are tangible, manufactured, and shipped to the customer. Capacity planning is about more than just &#8220;how many servers do we need?&#8221;</li>
<li>Both sell a variety of products</li>
<li>The companies were both started in 1999</li>
<li>Both use MongoDB, Oracle, and MySQL</li>
<li>Most or all production servers run in a physical datacenter</li>
</ul>


<p>Of course, there are plenty of differences, too. shutterfly is publicly traded and larger than CustomInk.</p>

<p>It was interesting to see how shutterfly&#8217;s approach to adopting MongoDB is very similar to CustomInk&#8217;s. Both store product data in MongoDB but order data lives in relational databases.</p>

<p>Check out Kenny&#8217;s <a href="http://www.10gen.com/presentations/mongosv-2011/performance-tuning-and-scalability">Performance Tuning and Scalability presentation</a>.</p>

<h2>AWS and MongoDB</h2>

<p>Using MongoDB on Amazon&#8217;s AWS was, not surprisingly, another hot topic. I think that if either shutterfly or CustomInk were to launch their business today, they&#8217;d likely look to AWS, or something similar, to house their infrastructure. The truth of the matter is that in 1999 that simply wasn&#8217;t an option so neither company stared there. At CustomInk, we have started moving some of our production services out of the data center and into alternate hosting environments (managed hosting or &#8220;the cloud&#8221;). However, the real sweet spot for us with AWS, at the moment, is staging and test servers. With AWS, we have the ability to quickly, easily, and inexpensively spin up a separate environment for each development branch.</p>

<p>The &#8220;developer happiness&#8221; that MongoDB affords does not make it immune to the &#8220;operational considerations&#8221; that every platform must take into account. These considerations vary from one environment to the next (bare metal, vm in a data center, managed hosting, &#8220;the cloud&#8221;, etc.)  Application that are not built to take advantages of the strengths of each environment will eventually suffer the consequences of running there.  Those consequences may include downtime, poor performance, and/or lots of operational complexity.</p>

<h2>Other videos and presentations</h2>

<p>Check-out <a href="http://www.10gen.com/presentations#event__mongosv-2011">all of the presentations from the conference</a> on the 10gen site.</p>

<p>The conference also included the announcement of the <a href="http://blog.10gen.com/post/14278640986/announcing-the-2011-mongodb-community-award-winners">MongoDB Community Award winners</a>. But that&#8217;s a story for my <a href="http://nathenharvey.com/blog/2011/12/29/mongodb-community-awards/">next post</a>.</p>

<h2>Quick thanks to&#8230;</h2>

<ul>
<li><a href="http://10gen.com">10gen</a> for continually providing such great conferences. The single-day, multi-track at a low cost format works very well .</li>
<li><a href="http://busyconf.com/">Busyconf</a> for creating <strong>the best</strong> app for conference schedules and hosting the <a href="http://mongosv2011.busyconf.com/schedule/full">MongoSV schedule</a>.</li>
<li>Adam, Amelia, Francesca, Meghan, Sam, and everyone else for 10gen for organizing the <a href="http://nathenharvey.com/blog/2011/12/29/mongodb-masters/">MongoDB Masters Summit</a> and MongoSV.</li>
<li>everyone who came out to my presentation and to everyone I met at MongoSV</li>
</ul>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[MongoDB Masters]]></title>
    <link href="http://www.nathenharvey.com/blog/2011/12/29/mongodb-masters/"/>
    <updated>2011-12-29T13:46:00-05:00</updated>
    <id>http://www.nathenharvey.com/blog/2011/12/29/mongodb-masters</id>
    <content type="html"><![CDATA[<p>Shortly before <a href="http://blog.10gen.com/post/13885501875/announcing-the-mongodb-masters">MongoSV 2011</a>, 10gen announced the <a href="http://blog.10gen.com/post/13885501875/announcing-the-mongodb-masters">MongoDB Masters</a> Program.</p>

<blockquote><p>The MongoDB Masters program is designed to recognize the achievements of leaders in the community and enable the exchange of knowledge between and among 10gen and the community.</p><footer><strong>10gen</strong> <cite><a href='http://blog.10gen.com/post/13885501875/announcing-the-mongodb-masters'>Announcing the MongoDB Masters</a></cite></footer></blockquote>


<p>I am honored to be counted among such a <a href="http://wiki.mongodb.org/display/DOCS/MongoDB+Masters">great group of MongoDB enthusiasts</a>. I was selected to join the Masters primarily because of my work with the <a href="http://www.meetup.com/Washington-DC-MongoDB-Users-Group/">Washington DC MongoDB User Group</a> which I&#8217;ve been helping to organize for almost a year. The group has monthly meetings at <a href="http://www.customink.com">CustomInk</a>&#8217;s headquarters in Tysons, VA.</p>

<p>The day before MongoSV, most of the MongoDB Masters met for the inaugural Masters Summit. The Masters Summit was run like an &#8220;un-conference&#8221;; the members decided on topics and broke into discussion groups to cover each topic. There were also a number of lightning talks.</p>

<p>We had break-out groups on 16 different topics including</p>

<ul>
<li>Operations, hosting, and production architecture</li>
<li>Drivers</li>
<li>MongoDB and Windows</li>
<li>Reporting</li>
</ul>


<!--more-->


<p>I participated in a couple of sessions about operations, one about hosting user groups, and one about reporting with MongoDB.</p>

<h3>MongoDB User Groups</h3>

<p>I was able to share some of my experience with hosting the DC MongoDB User group in this session. There were a few other user group organizers who participated including:</p>

<ul>
<li><a href="http://twitter.com/harrymarr">Harry Marr</a> and <a href="http://twitter.com/davidmytton">David Mytton</a> from the London User Group</li>
<li><a href="http://twitter.com/m_smalley">Mark Smalley</a> from the Malaysia User Group</li>
<li><a href="http://twitter.com/doryokujin">Takahiro Inoue</a> from the Tokyo User Group</li>
</ul>


<p><a href="http://twitter.com/ameliamango">Amelia</a>, <a href="http://twitter.com/francescaPasha">Francesca</a>, <a href="http://twitter.com/meghanpgill">Meghan</a>, and <a href="http://twitter.com/sam_10gen">Sam</a> who help organize community events for 10gen and <a href="http://twitter.com/cwestin63">Chris Westin</a>, also from 10gen, joined the discussion, too.</p>

<p>I was amazed to hear how large the Tokyo User Group is - over 600 members. They meet monthly on Saturdays, have multiple corporate sponsors, and great attendance at their meetings. I&#8217;m not sure how a Saturday user group meeting would go over in the US but suspect we&#8217;d see a very light turnout.</p>

<p>It was also great to hear some of the things that Chris Westin has done to organize the <a href="http://www.meetup.com/SF-Bay-Area-Large-Scale-Production-Engineering/">Bay Area Large-Scale Production Engineering meetup</a>. I read his blog post, <a href="https://www.bookofbrilliantthings.com/blog/how-to-run-a-successful-tech-meetup">How to Run a Successful Tech Meetup</a>, prior to the meeting so I had an idea about what some of his ideas were.  It was great to hear him echoing some of the things we&#8217;ve put into practice with the DC group.</p>

<p>After the discussion, I published a couple of blog posts on <a href="http://nathenharvey.com/blog/2011/12/13/tips-for-hosting-a-tech-user-group/">ideas about how to run a successful user group meeting</a> and <a href="http://nathenharvey.com/blog/2011/12/13/agenda-tips-for-a-tech-user-group/">some suggestions on the agenda / format for each meeting</a>.</p>

<h3>Reporting with MongoDB</h3>

<p>It seems there are still many questions around the best way to approach reporting on the data stored in a MongoDB. Sure, you can build custom reports easily enough with the data and that&#8217;ll be even easier when the new aggregation framework is released. However, the real challenge comes when you need to expose data in MongoDB AND data housed in your RDBMS to the same reporting tools. This is certainly a challenge we face at CustomInk. I still don&#8217;t feel that there is an easy answer in this area.  A couple of options were discussed including building custom ETL logic to load your MongoDB data into a RDBMS that can be used for reporting. I was particularly interested in the approach <a href="http://twitter.com/jwage">Jonathan Wage</a> and his colleagues at <a href="https://opensky.com/">OpenSky</a> are using. They&#8217;ve got a daemon that tails the MongoDB Oplog and updates a RDBMS as appropriate. This seems like a good approach and one I&#8217;d like to explore further.</p>

<h3>Side conversations</h3>

<h4>Configuration Management with Chef and Puppet</h4>

<p><a href="http://twitter.com/rick446">Rick Copeland</a>, <a href="http://twitter.com/mdirolf">Mike Dirolf</a>, <a href="http://twitter.com/m_smalley">Mark Smalley</a>, and I had a couple of conversations about Chef and Puppet. Of course the conversation included questions of which to use and why. At CustomInk, we&#8217;ve got experience with both so I shared some information on <a href="http://nathenharvey.com/blog/2011/11/21/why-we-chose-chef-over-puppet-at-customink/">Why We Chose Chef Over Puppet at CustomInk</a>.</p>

<h4>Full-text search in MongoDB</h4>

<p>During an open discussion, the question of full-text search within MongoDB came up. This topic seems to be a regular in any MongoDB roadmap discussions and the functionality always seems to be &#8220;very close, maybe in the n+1 release.&#8221; I think it was <a href="http://twitter.com/mdirolf">Mike Dirolf</a> who first voiced an opinion that I happen to share: &#8220;Stop working on it and focus on other features.&#8221;</p>

<p>Search is no easy problem to solve and there are projects whose sole focus is on information indexing and retrieval. 10gen should stay focused on the core functionality of MongoDB and leave the search problems to Lucene, Solr, and other similar projects. I&#8217;ve used Solr with MongoDB successfully on one project and think this is the right way to go.</p>

<p><img class="right" src="http://nathenharvey.s3-website-us-east-1.amazonaws.com/blog/images/mongodb_masters.jpg" width="320" height="250" title="MongoDB Masters" alt="MongoDB Masters">
I also agree with some of 10gen&#8217;s concern that search is like a pandora&#8217;s box. Once released, there will be a flood of feature requests and bug reports for this component which could quickly be distracting for the engineering team.</p>

<h3>Swag</h3>

<p>It wouldn&#8217;t be a 10gen event without a little swag, right?! MongoDB Masters were treated to custom coffee mugs, MongoDB Masters t-shirts, and great MongoDB Masters jackets.</p>

<h2>Next steps</h2>

<p>The MongoDB Masters program is still pretty new. We&#8217;re looking for ways to get the most out of the group. Google hangouts and IRC are where we&#8217;re headed next but who knows where we&#8217;ll go from there. I&#8217;d love to hear any ideas you have for how to make a group like this successful and productive.</p>

<p>If you want to keep-up with the MongoDB Masters on Twitter, you can follow the <a href="https://twitter.com/#!/nathenharvey/mongo-masters/members">Twitter list that I maintain</a>.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Agenda Tips for a Tech User Group]]></title>
    <link href="http://www.nathenharvey.com/blog/2011/12/13/agenda-tips-for-a-tech-user-group/"/>
    <updated>2011-12-13T19:53:00-05:00</updated>
    <id>http://www.nathenharvey.com/blog/2011/12/13/agenda-tips-for-a-tech-user-group</id>
    <content type="html"><![CDATA[<p>In my <a href="http://nathenharvey.com/blog/2011/12/13/tips-for-hosting-a-tech-user-group/">previous post</a>, I gave some <a href="http://nathenharvey.com/blog/2011/12/13/tips-for-hosting-a-tech-user-group/">ideas about how to run a successful user group meeting</a>. In this post, I&#8217;ll focus on the actual meeting format we typically use for our <a href="http://www.meetup.com/Washington-DC-MongoDB-Users-Group/">Washington DC MongoDB Users Group</a>. You may find that this format works well for any technical user group.</p>

<p>We&#8217;ve experimented with a couple of different formats but I think we&#8217;ve settled into something that generally works for us. Some of these don&#8217;t work with a meeting that&#8217;s larger than 20 people; adjust accordingly.</p>

<!--more-->


<h3>Sign-in sheets</h3>

<p>I usually include a sign-in sheet for our meetings. The sheets usually include space for name, email address, twitter handle, and a space for the attendee to write in a question or topic they&#8217;d like to discuss when we have some an open discussion. Usually attendees are already on members on <a href="http://www.meetup.com/">Meetup.com</a> so it&#8217;s easy enough to reach out to them but this provides another way to capture their contact info.</p>

<h3>Introductions and Announcements</h3>

<p>We start the meeting by going around the room and asking everyone to introduce themselves and share any announcements they may have. The announcements might be that they&#8217;re hiring, looking for work, or something about an application or open source contribution they&#8217;ve made.</p>

<h3>Meeting content</h3>

<p>After the introductions, you get into the meat of the meeting. This can take on many different formats here are some that we&#8217;ve used successfully:</p>

<h4>Demos &amp; Tutorials</h4>

<p>Having someone demo a product or application that they&#8217;ve built always goes over well. In some instances, we&#8217;ve had people build applications on-the-fly to give attendees an idea of how easy it can be to work with <a href="http://www.mongodb.org/">MongoDB</a>.</p>

<h4>Lightning Talks</h4>

<p>4-6 attendees give 5-10 minute talks on a given subject related to MongoDB. This is a great way for the attendees to share something they&#8217;re passionate about and practice their presentation skills.</p>

<h4>&#8220;Un-meeting&#8221;</h4>

<p>During an un-meeting, participants propose talks or discussion items and that drives the agenda for the meeting. I try to leave time for this sort of attendee-driven agenda in every meeting, even when we have scheduled presenters.</p>

<h4>Presentations</h4>

<p>It&#8217;s great to line-up one or two speakers for the meeting. I think the best combination of speakers for a MongoDB meeting is to have one &#8220;intro&#8221; talk and one that is more advanced. We always seem to have a number of attendees who have done very little, if anything, with MongoDB prior to the meeting. Having an introductory presentation is great for them. The more advanced talk may get into replication, sharding, or production operations.</p>

<h3>Picks, tips, and #protips</h3>

<p>I stole this idea from the <a href="http://rubyrogues.com/">Ruby Rogues podcast</a>. At the end of each meeting we go around the room and ask each attendee to share a pick, tip, or #protip. These can be related to MongoDB but don&#8217;t have to be. Heck, they don&#8217;t need to be related to tech at all. Just something that the attendee has been using, doing, or has learned recently that he&#8217;d like to share with the group. Tips have included emacs and vi tips, command line tips, books, games, and even <a href="http://www.wikihow.com/Suppress-the-Gag-Reflex">tips on how to suppress the gag reflex</a>.</p>

<h3>Announce the next meetup</h3>

<p>It&#8217;s key to announce the next meetup at the end of the current one. Minimally, you&#8217;ll want to announce the date, time, and location. Preferably, you&#8217;ll also be able to announce the theme of the night or the actual speakers.</p>

<h3>Other ideas</h3>

<p>Lately, I&#8217;ve been kicking around the idea of a book club meeting. The idea is that we&#8217;d pick a book, maybe <a href="http://www.manning.com/banker/">MongoDB in Action</a> and build a couple of the meeting agendas around chapters from the book. For example, perhaps we&#8217;d look at Part 1 Getting started in February, Part 2 - Application development in March, and Part 3 - MongoDB mastery in April. We may even be able to spend an entire meeting on the content and theme of a single chapter. The group could publish reviews of each section as they go. Have you had any experience with a user group that&#8217;s done this?</p>

<p>We&#8217;ve also used Skype to bring experts in to present virtually. I&#8217;ve found that this works best when the presenter has a brief (15 minute) presentation and then is available for Q &amp; A.</p>

<p>For some more great suggestions, including suggestions on how to get great presenters, check out <a href="https://twitter.com/cwestin63">Chris Westin&#8217;s</a> blog post - <a href="https://www.bookofbrilliantthings.com/blog/how-to-run-a-successful-tech-meetup">How to Run a Successful Tech Meetup</a>.</p>

<p>What suggestions do you have? Please leave a comment or get in touch with me.</p>

<p>Also, checkout my <a href="http://nathenharvey.com/blog/2011/12/13/tips-for-hosting-a-tech-user-group/">previous post</a> where I gave some <a href="http://nathenharvey.com/blog/2011/12/13/tips-for-hosting-a-tech-user-group/">ideas about how to run a successful user group meeting</a>.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Tips for Hosting a Tech User Group]]></title>
    <link href="http://www.nathenharvey.com/blog/2011/12/13/tips-for-hosting-a-tech-user-group/"/>
    <updated>2011-12-13T19:24:00-05:00</updated>
    <id>http://www.nathenharvey.com/blog/2011/12/13/tips-for-hosting-a-tech-user-group</id>
    <content type="html"><![CDATA[<p>In January of 2011, I started hosting a <a href="http://www.meetup.com/Washington-DC-MongoDB-Users-Group/">monthly MongoDB meetup</a>. My employer, <a href="http://www.customink.com/">CustomInk</a>, was looking for ways to become better known in the local DC technology market. We were also just getting started with our initial production deployment of MonogoDB. Having engineers from the area come to our office, get to know CustomInk, and share their experiences with using MongoDB was a great opportunity!</p>

<p>Before I get much further, I&#8217;d like to give a hat tip to those user groups and podcasts that I learned from and stole ideas from. Namely, <a href="http://www.meetup.com/dcruby/">DC RUG</a>, <a href="http://www.meetup.com/bmore-on-rails/">B&#8217;more on Rails group</a>, and the <a href="http://rubyrogues.com/">Ruby Rogues podcast</a>.</p>

<p>Having a good space for hosting these types of meetings is important. CustomInk has two different spaces that we can utilize. The Parlour is a very cozy sitting room that includes a fireplace. It&#8217;s suitable for a groups of up to 30 people. The Cafe is quite a bit larger, we can host up to 80 people there. We also have a very nice outdoor patio which could hold 80 people but planning weather-dependent meetings doesn&#8217;t feel like the right way to go. The patio is connected to both the Parlour and the Cafe so networking at the beginning of the meeting sometimes happens there.</p>

<p>Our success hosting the <a href="http://www.meetup.com/Washington-DC-MongoDB-Users-Group/">MongoDB User Group</a> has led to us hosting a number of other meetups. We are the regular host for the <a href="http://www.meetup.com/DevOpsDC/">DevOps DC</a> meetup and have hosted events for <a href="http://www.meetup.com/ncagtug/events/17035395/">Android application development</a>, <a href="http://www.meetup.com/R-users-DC/events/37862562/">R user group</a>, <a href="http://www.meetup.com/NoVa-Javascript-Ext-JS-Users-Group/events/36841452/">JavaScript user group</a>, and a <a href="http://www.meetup.com/TwitterTeaTimeDC/events/38265862/">Twitter API meetup</a>.</p>

<p>The MongoDB group now includes over 250 members and the DevOps DC group is over 100. Based on our experience, I believe there are a number of things that you can do to grow and run a successful meetup group.</p>

<!--more-->


<h3>Consistent date, time, location</h3>

<p>Having a consistent date, time, and location may be one of the most important things you can do. This allows members to plan their schedule and their commute. Finding the location of any meetup can be an anxiety-filled experience for some people. Is this the right building? Which floor is this meeting on? There&#8217;s comfort in knowing that next month&#8217;s meeting will happen in the same space as this month&#8217;s. You may feel it would be better to alternate locations. We&#8217;ve certainly had some requests for this in the groups we regularly host. Based on feedback from other groups and some of our own experience, this is a bad idea. We&#8217;ve seen or heard of too many members missing meetings because they went to the &#8220;other&#8221; location. For the MongoDB group, we meet on the third Wednesday of the month at 6:30. Pick a day and time that works best for you and stick with it.</p>

<p>A location that is easily accessible via public transportation is certainly desirable but may not always be feasible.</p>

<h3>Encourage member participation</h3>

<p>Once you&#8217;ve got everyone at your meetup it&#8217;s important that you make this a warm, welcoming place where members feel comfortable and are encouraged to participate. We ask attendees to introduce themselves, share a pick, and contribute during open discussions.</p>

<h3>Register a twitter account</h3>

<p>A twitter handle that matches your group is a great way to help promote your meetings and encourage attendance. I use <a href="http://twitter.com/mongodc">@MongoDC</a> and will frequently tweet about topics that our members are interested in. Of course, the primary use of the account is to announce upcoming meetings and speakers. However, I also use it for sharing MongoDB related news such as <a href="https://twitter.com/#!/MongoDC/status/113307839249907713">product releases</a> and <a href="https://twitter.com/#!/MongoDC/status/135041129455427584">upcoming conferences</a>. Additionally, we ask our members to share their twitter handle when they arrive. This allows me to put together a <a href="https://twitter.com/#!/MongoDC/mongodc-16-nov-2011/members">Twitter list</a> of the people who attended (an idea I stole from the <a href="http://www.meetup.com/bmore-on-rails/">B&#8217;more on Rails group</a>).</p>

<h3>Feed the group</h3>

<p>You&#8217;re probably scheduling your meetings right around the same time that most people would otherwise be eating dinner. CustomInk provides pizza, sodas, and beer for each meetup. Personally, I&#8217;m a bit of a beer lover so try to provide a unique offering at each meeting. This a good sponsorship opportunity for companies interested in reaching your group, too.</p>

<h3>Give away FREE stuff</h3>

<p>What&#8217;s a user group meeting without some sort of free swag? <a href="http://www.10gen.com/">10gen</a>, the company behind MongoDB, is great about making sure I always have something to give away at the meetings. Quick reference cards, stickers, and coffee mugs are usually in ample supply. Occasionally, we&#8217;ll have a books, conference tickets or discounts, or other special swag that we can giveaway, too.</p>

<h3>Wifi</h3>

<p>Provide free wifi to your attendees. It&#8217;s frustrating to go to a technical meeting without wifi.</p>

<h3>Leverage Meetup.com</h3>

<p><a href="http://www.meetup.com/">Meetup.com</a> has a lot of great tools to help you organize meetings, communicate with individual members or with the entire group, and more. Be sure to checkout the &#8220;Organizer Tips&#8221; available under the &#8220;Group Tools&#8221; menu. Create a presence on Facebook, LinkedIn, Twitter, or anywhere else your members or potential members are going to be but always link back to the group&#8217;s page on meetup.com. Use the meetup site to post any presentations from your meetings. I also find it&#8217;s very helpful to <a href="http://www.meetup.com/Washington-DC-MongoDB-Users-Group/pages/November_Meetup_Recap/">summarize your meetings on the site</a>. This gives attendees easy access to everything that happened and gives new members an idea about the content and quality of the meetings.</p>

<p>It might also be interesting to have a page on the Meetup site where your members can highlight their own open source contributions. Perhaps they&#8217;ve contributed to a MongoDB driver?</p>

<p>There are other sites that offer similar functionality to Meetup.com but I firmly believe Meetup.com is the best. It&#8217;s where many people go to look for interesting groups and the tools they provide are great.</p>

<h3>Other ideas</h3>

<p>Lately, I&#8217;ve been kicking around the idea of having a group library. Members and publisher could contribute books that the group might be interested in. Each book could be &#8220;borrowed&#8221; for up to a month. Have you had any experience with a user group that&#8217;s done this?</p>

<p>For some more great suggestions, including suggestions on how to get great presenters, check out <a href="https://twitter.com/cwestin63">Chris Westin&#8217;s</a> blog post - <a href="https://www.bookofbrilliantthings.com/blog/how-to-run-a-successful-tech-meetup">How to Run a Successful Tech Meetup</a>.</p>

<p>What suggestions do you have? Please leave a comment or get in touch with me.</p>

<p>In my <a href="http://nathenharvey.com/blog/2011/12/13/agenda-tips-for-a-tech-user-group/">next post</a>, I&#8217;ll provide <a href="http://nathenharvey.com/blog/2011/12/13/agenda-tips-for-a-tech-user-group/">some suggestions on the agenda / format for each meeting</a>.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Brine your turkey!]]></title>
    <link href="http://www.nathenharvey.com/blog/2011/11/21/brine-your-turkey/"/>
    <updated>2011-11-21T04:48:00-05:00</updated>
    <id>http://www.nathenharvey.com/blog/2011/11/21/brine-your-turkey</id>
    <content type="html"><![CDATA[<p>It&#8217;s Thanksgiving week. That means it&#8217;s time to start prepping your turkey.</p>

<p>In my opinion there are <strong>three very important things required for a terrific turkey</strong>:</p>

<ol>
<li>Start with a fresh turkey, I get mine from <a href="http://www.maplelawn.com/">Maple Lawn Farms</a>.</li>
<li>Brine the turkey (for 12-24 hours)</li>
<li>Once it&#8217;s in the oven, leave it alone!</li>
</ol>


<p>I always prepare mine in an apple cider brine:</p>

<ul>
<li>8 cups apple cider</li>
<li>2/3 cup kosher salt</li>
<li>2/3 cup sugar</li>
<li>1 tablespoon black peppercorns, coarsely crushed</li>
<li>1 tablespoon whole allspice, coarsely crushed</li>
<li>8 (1/8-inch-thick) slices peeled fresh ginger</li>
<li>6 whole cloves</li>
<li>2 bay leaves</li>
<li>1 (12-pound) fresh or frozen turkey, thawed</li>
<li>2 oranges, quartered</li>
<li>6 cups ice</li>
</ul>


<p>Of course, this is for a 12-pound turkey, adjust for the size of your turkey.</p>

<h3>To prepare brine</h3>

<ul>
<li>combine first 8 ingredients in a large saucepan; bring to a boil.</li>
<li>Cook 5 minutes or until sugar and salt dissolve.</li>
<li>Cool completely.</li>
</ul>


<h3>To prepare the turkey</h3>

<ul>
<li>Remove giblets and neck from turkey.</li>
<li>Rinse turkey with cold water; pat dry.</li>
<li>Trim excess fat.</li>
<li>Stuff body cavity with orange quarters.</li>
</ul>


<p>You&#8217;ll need something to to store the turkey in while it brines. Brine bags are relatively easy to find. They can be a bit messy to deal with so you might just use a large stockpot or a bucket. The important things are that the turkey is fully submersed in the brine and that you keep the whole thing cold throughout the process.</p>

<p>Place the turkey in the brine bag or other vessel of your choice and cover with the liquid. Place all of that into a cooler and fill with ice or place it into your refrigerator, if you have the room. Leave the turkey in the brine for 12-24 hours, turning occasionally.</p>

<h3>Cooking the turkey</h3>

<ul>
<li>Remove the turkey from the brine</li>
<li>Discard the brine and orange quarters</li>
<li>Rinse the turkey and pat it dry</li>
</ul>


<p>Cook the turkey as you normally would. I like to start it breast side down for the first 30 minutes at a higher temperature (475&ordm; - 500&ordm;) then flip it over and reduce the heat to 350&ordm; for the remainder. If possible, use a <a href="http://www.williams-sonoma.com/products/digital-voice-alert-thermometer/?pkey=x%7C4%7C1%7C%7C4%7Cmeat%20thermometer%7C%7C0&amp;cm_src=OLDLINK">leave-in thermometer</a> so that you don&#8217;t have to continually open the oven to check the temperature of the turkey.</p>

<p>Once the turkey is done cooking, be sure to let it rest at least 20 minutes before carving.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[I'm Speaking at MongoSV]]></title>
    <link href="http://www.nathenharvey.com/blog/2011/11/21/im-speaking-at-mongosv/"/>
    <updated>2011-11-21T03:57:00-05:00</updated>
    <id>http://www.nathenharvey.com/blog/2011/11/21/im-speaking-at-mongosv</id>
    <content type="html"><![CDATA[<p><img class="right" src="http://nathenharvey.s3-website-us-east-1.amazonaws.com/blog/images/MongoSV_badge.png" width="320" height="156" title="MongoSV" alt="MongoSV"></p>

<p><a href="http://www.10gen.com/events/mongosv-2011">MongoSV</a> is an annual one-day conference in Silicon Valley dedicated to the open source, non-relational database MongoDB. The comprehensive agenda includes 50+ sessions covering topics for both the novice and experienced user, with presentations from 10gen engineers as well as MongoDB users.</p>

<p>I&#8217;m one of the MongoDB users who will be speaking at the conference. The title of my talk is &#8221;<strong>MongoDB at CustomInk - Adoption, Operations, and Community</strong>&#8221;</p>

<p>In this talk I&#8217;ll detail some of the reasons we decided to go with MongoDB, the challenges we faced bringing it into the organization, how we&#8217;re using it in production today, lessons learned, and some of our future plans. The talk will also describe some of the operational considerations for putting MongoDB into production: how do we deploy, operate, and monitor MongoDB. During this talk I&#8217;ll also describe <a href="http://www.customink.com">CustomInk</a>&#8217;s involvement in the MongoDB community.</p>

<p>Since January, CustomInk has been hosting the <a href="http://www.meetup.com/Washington-DC-MongoDB-Users-Group">Washington DC MongoDB Users Group</a>. I&#8217;ll share some of my experience with, tips for, and lessons learned growing a monthly user group.</p>

<p>The talk will be a refreshed and expanded version of the presentation I gave at <a href="http://www.10gen.com/events/mongodc-2011">MongoDC</a> back in June. You can find <a href="http://speakerrate.com/events/985-mongodc">slides and reviews from MongoDC on SpeakerRate</a>.</p>

<p><a href="http://www.10gen.com/">10gen</a> does a great job with these conferences. They&#8217;re always packed full of great information and you&#8217;ll get to meets lots of people from the community. MongoSV is the largest of these one-day conferences that 10gen organizes. This year, the conference also includes the <a href="https://docs.google.com/spreadsheet/viewform?formkey=dGNvYzNpY3BTMHFrZWRVLVpuTktoSmc6MQ">MongoDB Community Awards</a> where you can nominate someone in three different categories:</p>

<ul>
<li>Innovative Application</li>
<li>Community Champion</li>
<li>Contributor</li>
</ul>


<p>If you&#8217;re in Santa Clara on December 9th, or need a reason to be, be sure to stop by MongoSV. I have a discount code I can share with you to lower the cost of admission significantly, just let me know if you&#8217;re interested.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Why we chose Chef over Puppet at CustomInk]]></title>
    <link href="http://www.nathenharvey.com/blog/2011/11/21/why-we-chose-chef-over-puppet-at-customink/"/>
    <updated>2011-11-21T03:29:00-05:00</updated>
    <id>http://www.nathenharvey.com/blog/2011/11/21/why-we-chose-chef-over-puppet-at-customink</id>
    <content type="html"><![CDATA[<p>Not unlike most technology choices, the choice of which configuration management tool to use for managing your infrastructure as code is sure to spark debate among opinionated technologists. There are certainly a number of choices available all of which have their own strengths and weaknesses. There are a number of things to consider as you select a tool.</p>

<p>Before we get into any of the specifics, I want to make it clear that the &#8220;right&#8221; answer to this question is a simple, but emphatic &#8220;yes!&#8221; Yes, you should be using a tool that allows you to manage your infrastructure as code. That tool should NOT be a server.txt file that you keep on the machine that documents the installation, set-up, and configuration changes you&#8217;ve made. Moving that text to somewhere other than the local server is a step in the right direction but isn&#8217;t really the answer. Moving the server.txt file to your corporate wiki is going to suck just as bad.</p>

<p>I think Mark Imbriaco summed it up quite nicely in 140 characters or less:</p>

<blockquote><p>Pro-tip: Nobody gives a shit about your opinion of Chef vs. Puppet. Seriously. Just fucking stop it already. #usewhatworksforyou</p><footer><strong>@markimbriaco</strong> <cite><a href='https://twitter.com/markimbriaco/statuses/89180299824599041'>twitter.com/markimbriaco/&hellip;</a></cite></footer></blockquote>


<p>As you consider which tool is right for you, you&#8217;ll need to consider a number of questions. I think of these as the WIIFs, or &#8220;what&#8217;s in it for&#8230;&#8221; questions:</p>

<!--more-->


<h3>WIIFM - What&#8217;s in it for me</h3>

<p>You&#8217;re going to want a tool that you&#8217;re happy working with. You&#8217;re going to make an investment in this tool. You&#8217;ll need to learn to be proficient with the tool, master it, and use it in your everyday workflow. Pick something that you&#8217;ll be happy working with for some time.</p>

<h3>WIIFC - What&#8217;s in it for my customers</h3>

<p>It&#8217;s highly unlikely that your customers know or care anything about how your infrastructure was built, provisioned, and managed. Why should they have any say about which tool you pick? Your customers are keenly interested in the services or products you offer. They also care about things like performance, availability, and how quickly you recover from an issue or outage. If they don&#8217;t care about these things, they&#8217;ll likely not be your customers for long. As you grow your business, you&#8217;ll want to have more time for delivering value to customers. Spend less time building, provisioning, upgrading, and repairing your infrastructure.</p>

<h3>WIIFB - What&#8217;s in it for my business</h3>

<p>You may be the only one who has to build and manage the infrastructure in your company but it&#8217;s likely you&#8217;ll eventually move beyond a technology team of one. As your technology team grows, you&#8217;ll want to include everyone in the process of managing your infrastructure. This includes the people you might not think of as typically having a say in the infrastructure: developers, quality assurance engineers, etc. You do not want to be the only person in your company who knows how to manage the infrastructure and use the tools you&#8217;ve selected. Sure, it gives you a false sense of job security and feeds into your hero-complex but you need to be able to pass the on-call baton to someone else. Cost may also be a factor to consider when selecting a solution although it&#8217;s likely it&#8217;s more of a data-point than selection criteria, given the solutions that are on the market.</p>

<p>I cannot tell you which tool is right for you. There are many factors including the ones I&#8217;ve listed above. I have some experience with both Puppet and Chef. At <a href="http://www.customink.com">CustomInk</a>, we decided to switch to Chef after using Puppet for about two years.</p>

<h2>Why did we switch?</h2>

<h3>We&#8217;re a Rails shop</h3>

<p>CustomInk is a Ruby on Rails shop and has been for many years. Being a Rails shop helped push us towards Chef in two ways. As a Rails shop, we suffer a bit from from the stereotypical &#8220;newer and shinier is better&#8221; syndrome that many people feel ails the Rails community. As a Rails shop, the domain-specific language (DSL) of Chef is a more comfortable way for us to work. Everyone on the technology team can easily understand the code.</p>

<h3>We started with Puppet</h3>

<p>We started with Puppet so, naturally, that&#8217;s the one we switched from. Puppet was, and actually still is, working well for us. However, we found that working in Puppet was going a bit slower than we&#8217;d like. Also, as we started learning more about Chef we started to see how we&#8217;d be able to quickly benefit from some of the features it offers. To be fair, we were comparing the Puppet we were using (0.24.x) to the latest (at the time) version of Chef (0.9.x). There may well have been ways to do the things we wanted with Puppet but we weren&#8217;t. Chef was intriguing and it looked like we&#8217;d be able to get more from it. Instead of working to refactor our Puppet and get smarter with how to use it, we went with Chef.</p>

<h3>Search</h3>

<p>Chef&#8217;s ability to search our environment and use that information at run time is very appealing. The ability for us to define a database.yml template that can have the &#8220;host&#8221; value populated at runtime based on which host is currently the primary database server is great. Using search in our capistrano recipes to determine where the code should be deployed is a huge win.</p>

<h3>Knife</h3>

<p>Knife is Chef&#8217;s powerful command line interface. There are many things you can do with knife, most of which fall outside of the scope of this article. Knife allows you to interact with your entire infrastructure and Chef code base. Use knife to bootstrap a server, build the scaffolding for a new cookbook, or apply a role to a set of nodes in your environment. You can use knife ssh to execute commands on any number of nodes in your environment. knife ssh + search is a very powerful combination. &#8220;Run this command on all nodes with role X.&#8221;</p>

<h3>Dependency Management</h3>

<p>We found that defining dependencies in Puppet was overly verbose and cumbersome. With Chef, order matters and we could rest assured that dependencies would be met if we specified them in the proper order.</p>

<h3>Strong Community</h3>

<p>OpsCode has done a great job of keeping up a strong community. The community.opscode.com site, where hundreds of cookbooks are shared, is a great way to get started. OpsCode has also hosted numerous webinars, publishes all of their training material, and makes it very easy to contribute patches. Frankly, I don&#8217;t have any experience with this in the Puppet world. However, my lack of experience with this in the Puppet world is likely attributed simply to the way my development habits have changed over time. At CustomInk, we&#8217;ve been able to submit patches to chef, a number of cookbooks, and have also published some of our own cookbooks.</p>

<h3>Developer Happiness</h3>

<p>As I mentioned previously, the DSL with Chef is much more comfortable than that of Puppet. The mental model and workflow suit us. I find that the time I spend working in Chef is when I feel most productive and happy.</p>

<p>I often wonder if the reason Chef is the right tool is because it&#8217;s the second one we&#8217;ve used. Coming to infrastructure as code includes a learning curve. I feel that we&#8217;re better Chef developers because we learned from our experience with Puppet. Some may even agree that Chef&#8217;s a better tool because the developers of Chef learned from their experience with Puppet.</p>

<h3>A note for projects that are just getting started</h3>

<p>If your project is just getting started, the best choice for you is probably not to use any of the configuration management tools that allow you to manage your infrastructure as code. You should stay focused exclusively on delivering value to your customers. It&#8217;s likely that the best solution for you is <a href="http://www.heroku.com/">Heroku</a>. Sure, Heroku puts some constraints on how you build your app, but they&#8217;re a good way for you to think creatively. You can, and should, delay your choice of tools until you&#8217;re ready to spin up your first server.</p>

<h2>TL;DR</h2>

<ul>
<li>If the question is &#8220;Chef or Puppet?&#8221;, the answer is &#8220;Yes.&#8221; You need to manage you infrastructure as code</li>
<li>Search, knife, dependency management, community, and developer happiness were the key reasons we switched</li>
<li>Chef is the right tool for us and it might be the right one for you</li>
<li>If you&#8217;re new to the idea of &#8220;Infrastructure as Code&#8221;, understand that there&#8217;s a learning curve but your efforts will be rewarded</li>
</ul>


<p>Did you have to make a similar choice? What were some of the deciding factors? Which tool or framework did you end up with?</p>

<hr />

<p>This was originally posted on my <a href="http://nathenharvey.blogspot.com/2011/11/why-we-chose-puppet-over-chef-at.html">blogger site</a>.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Vagrant and VBoxManage import]]></title>
    <link href="http://www.nathenharvey.com/blog/2010/12/27/vagrant-and-vboxmanage-import/"/>
    <updated>2010-12-27T19:25:00-05:00</updated>
    <id>http://www.nathenharvey.com/blog/2010/12/27/vagrant-and-vboxmanage-import</id>
    <content type="html"><![CDATA[<p>I&#8217;ve recently started using <a href="http://vagrantup.com/">Vagrant</a> for building local VMs with VirtualBox. It&#8217;s a great way to test out my <a href="http://www.opscode.com/chef">Chef</a> cookbooks.</p>

<p>I recently ran into an error after a system crash. When I tried to run:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>vagrant up
</span></code></pre></td></tr></table></div></figure>


<p>the following error was reported:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>The VM import failed! Try running <span class="sb">`</span>VBoxManage import<span class="sb">`</span> on the box file manually
</span><span class='line'><span class="k">for </span>more verbose error output.
</span></code></pre></td></tr></table></div></figure>


<p>To successfully run VBoxManage import, you first need to locate the .ovf file used by Vagrant when building your VM. Typically, you&#8217;ll find your box definitions in the <code>~/.vagrant/boxes</code> directory. So, I tried to run the command specified from there:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nb">cd</span> ~/.vagrant/boxes/base
</span><span class='line'>
</span><span class='line'>VBoxManage import box.ovf
</span><span class='line'>
</span><span class='line'>ERROR: Cannot register the hard disk
</span><span class='line'><span class="s1">&#39;~/.vagrant/boxes/base/vagrant-centos64-disk.vmdk&#39;</span> with UUID
</span><span class='line'><span class="o">{</span>5d2426bf-f04e-40a0-bf36-a27c8d45f920<span class="o">}</span> because a hard disk
</span><span class='line'><span class="s1">&#39;~/.vagrant/boxes/base/vagrant-centos64-disk.vmdk&#39;</span> with UUID
</span><span class='line'><span class="o">{</span>5d2426bf-f04e-40a0-bf36-a27c8d45f920<span class="o">}</span> already exists in the media registry
</span><span class='line'><span class="o">(</span><span class="s1">&#39;~/Library/VirtualBox/VirtualBox.xml&#39;</span><span class="o">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>To get around this, I simply removed <code>~/Library/VirtualBox/VirtualBox.xml</code>. I was then able to vagrant up and continue on with my Chef cookbook.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Citizen Cope Concert]]></title>
    <link href="http://www.nathenharvey.com/blog/2010/12/02/citizen-cope-concert/"/>
    <updated>2010-12-02T21:11:00-05:00</updated>
    <id>http://www.nathenharvey.com/blog/2010/12/02/citizen-cope-concert</id>
    <content type="html"><![CDATA[<p>Citizen Cope came to the Rams Head On Stage in Annapolis for 3 sold out solo shows.  I was at the first one and was able to make some fairly good recordings.</p>

<p>The playlist below includes the entire Cope set.  Have a listen and let me know what you think.</p>

<p>This concert is now also available on <a href="http://www.archive.org/details/CitizenCope-LiveAtRamsHeadOnStage-26Nov2010">Live Music Archive</a>.</p>

<object width="480" height="385"><param name="movie" value="http://www.youtube.com/p/BFA9AD670D22F8CF?hl=en_US&amp;fs=1"><param name="allowFullScreen" value="true"><param name="allowscriptaccess" value="always"><embed src="http://www.youtube.com/p/BFA9AD670D22F8CF?hl=en_US&amp;fs=1" type="application/x-shockwave-flash" allowscriptaccess="always" allowfullscreen="true" width="480" height="385"></embed></object>


<ol>
<li><a href="http://www.youtube.com/watch?v=CkCmd9Q8UMg">Every Waking Moment</a></li>
<li><a href="http://www.youtube.com/watch?v=ka9vdrXATt4">Salvation</a></li>
<li><a href="http://www.youtube.com/watch?v=-acD44WayGE">More Than It Seems</a></li>
<li><a href="http://www.youtube.com/watch?v=R2SVcBRIuoo">Bullet And A Target</a></li>
<li><a href="http://www.youtube.com/watch?v=cMvpUNQ9sHo">Out on the Weekend (Neil Young cover)</a></li>
<li><a href="http://www.youtube.com/watch?v=JAWyAUbjuGA">Holdin&#8217; On</a></li>
<li><a href="http://www.youtube.com/watch?v=U-cQNWG6KRY">All Dressed Up</a></li>
<li><a href="http://www.youtube.com/watch?v=nmHubW0xt3M">Lifeline</a></li>
<li><a href="http://www.youtube.com/watch?v=MoLXeIvsFag">Healing Hands</a></li>
<li><a href="http://www.youtube.com/watch?v=bQw97HbKiZA">Keep Askin&#8217;</a></li>
<li><a href="http://www.youtube.com/watch?v=IdcHdaCnHLg">Pablo Picasso</a></li>
<li><a href="http://www.youtube.com/watch?v=ASrQHQ367hg">D&#8217;Artagnan&#8217;s Theme</a></li>
<li><a href="http://www.youtube.com/watch?v=GFaVnSLKGBY">200,000 (in counterfeit 50 dollar bills)</a></li>
<li><a href="http://www.youtube.com/watch?v=7d2_C-0DVuo">If There&#8217;s Love</a></li>
<li><a href="http://www.youtube.com/watch?v=_HBFALRUiq8">Comin&#8217; Back</a></li>
<li><a href="http://www.youtube.com/watch?v=zcC3D7MZOUc">One Lovely Day</a></li>
<li><a href="http://www.youtube.com/watch?v=CeUeag43IR8">Son&#8217;s Gonna Rise</a></li>
<li><a href="http://www.youtube.com/watch?v=mWfW0Kgoqmc">Sideways</a></li>
<li><a href="http://www.youtube.com/watch?v=Y3cqhOqq7hw">Hurricane Waters</a></li>
<li><a href="http://www.youtube.com/watch?v=xetaamjGX24">Hands of the Saints</a></li>
<li><a href="http://www.youtube.com/watch?v=RtyNYbuyE_w">My Way Home</a></li>
<li><a href="http://www.youtube.com/watch?v=5_8GmyA4V6U">Left For Dead</a></li>
</ol>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Testing mod_rewrite and apache redirects]]></title>
    <link href="http://www.nathenharvey.com/blog/2010/07/16/testing-mod-rewrite-and-apache-redirects/"/>
    <updated>2010-07-16T09:00:00-04:00</updated>
    <id>http://www.nathenharvey.com/blog/2010/07/16/testing-mod-rewrite-and-apache-redirects</id>
    <content type="html"><![CDATA[<p>At <a href="http://www.customink.com">CustomInk</a>, we recently migrated from mongrel to Passenger for our Ruby on Rails website. This migration included a full rewrite of our apache configuration files.</p>

<p>With over 500 redirect and rewrite rules in place I needed a way to ensure my copy-n-paste skills were up to snuff and that we didn&#8217;t loose any redirects along the way.</p>

<p>In my search for help, I found a <a href="http://www.viget.com/extend/test-drive-mod-rewrite-rules-with-testunit/">blog post by Patrick Reagan from Viget labs</a> that described a method for writing tests that will verify all the rewrite rules and redirects. Patrick&#8217;s ideas were packaged up into a gem and available on <a href="http://github.com/eightbitraptor/http_redirect_test">github</a>.</p>

<p>I can now write up tests like:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">should_redirect</span> <span class="s2">&quot;/cink/ideas/ideas.jsp&quot;</span><span class="p">,</span> <span class="ss">:to</span> <span class="o">=&gt;</span> <span class="s2">&quot;/inspiration/&quot;</span>
</span></code></pre></td></tr></table></div></figure>


<p>So now I can to some TDC (test-driven configuration) whenever I get a request for a new redirect.</p>

<p>What other methods have you used to test your rewrite rules?</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Passenger and PHP]]></title>
    <link href="http://www.nathenharvey.com/blog/2010/06/11/passenger-and-php/"/>
    <updated>2010-06-11T09:25:00-04:00</updated>
    <id>http://www.nathenharvey.com/blog/2010/06/11/passenger-and-php</id>
    <content type="html"><![CDATA[<p>I recently migrated a site from mongrel to passenger. Today I learned that the wordpress site that was served up by the same webserver wasn&#8217;t working anymore.</p>

<p>Compared the configurations and everything looked OK, no changes were made as part of the migration. PHP module was being loaded, URL was being properly aliased, etc. Watched my logs and saw that Passenger was attempting to serve up the request which is not what I wanted.</p>

<p>A quick update to my Directory&#8217;s definition and the issue was fixed. I had to explicitly disable Passenger using <code>PassengerEnabled off</code> as seen below:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='apache'><span class='line'>  <span class="nb">Alias</span> <span class="sx">/blog</span> <span class="sx">/shared/www/blog</span>
</span><span class='line'>  <span class="nt">&lt;Directory</span> <span class="s">/shared/www/blog</span><span class="nt">&gt;</span>
</span><span class='line'>    <span class="nb">DirectoryIndex</span> index.php
</span><span class='line'>    <span class="nb">PassengerEnabled</span> <span class="k">off</span>
</span><span class='line'>  <span class="nt">&lt;/Directory&gt;</span>
</span></code></pre></td></tr></table></div></figure>

]]></content>
  </entry>
  
</feed>
