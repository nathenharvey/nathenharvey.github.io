<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Nathen Harvey]]></title>
  <link href="http://www.nathenharvey.com/atom.xml" rel="self"/>
  <link href="http://www.nathenharvey.com/"/>
  <updated>2011-12-28T22:52:51-05:00</updated>
  <id>http://www.nathenharvey.com/</id>
  <author>
    <name><![CDATA[Nathen Harvey]]></name>
    <email><![CDATA[nathen@nathenharvey.com]]></email>
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Vagrant and VBoxManage import]]></title>
    <link href="http://www.nathenharvey.com/blog/2010/12/27/vagrant-and-vboxmanage-import/"/>
    <updated>2010-12-27T19:25:00-05:00</updated>
    <id>http://www.nathenharvey.com/blog/2010/12/27/vagrant-and-vboxmanage-import</id>
    <content type="html"><![CDATA[<p>I&#8217;ve recently started using <a href="http://vagrantup.com/">Vagrant</a> for building local VMs with VirtualBox. It&#8217;s a great way to test out my <a href="http://www.opscode.com/chef">Chef</a> cookbooks.</p>

<p>I recently ran into an error after a system crash. When I tried to run:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>vagrant up
</span></code></pre></td></tr></table></div></figure>


<p>the following error was reported:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>The VM import failed! Try running <span class="sb">`</span>VBoxManage import<span class="sb">`</span> on the box file manually
</span><span class='line'><span class="k">for </span>more verbose error output.
</span></code></pre></td></tr></table></div></figure>


<p>To successfully run VBoxManage import, you first need to locate the .ovf file used by Vagrant when building your VM. Typically, you&#8217;ll find your box definitions in the <code>~/.vagrant/boxes</code> directory. So, I tried to run the command specified from there:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nb">cd</span> ~/.vagrant/boxes/base
</span><span class='line'>
</span><span class='line'>VBoxManage import box.ovf
</span><span class='line'>
</span><span class='line'>ERROR: Cannot register the hard disk
</span><span class='line'><span class="s1">&#39;~/.vagrant/boxes/base/vagrant-centos64-disk.vmdk&#39;</span> with UUID
</span><span class='line'><span class="o">{</span>5d2426bf-f04e-40a0-bf36-a27c8d45f920<span class="o">}</span> because a hard disk
</span><span class='line'><span class="s1">&#39;~/.vagrant/boxes/base/vagrant-centos64-disk.vmdk&#39;</span> with UUID
</span><span class='line'><span class="o">{</span>5d2426bf-f04e-40a0-bf36-a27c8d45f920<span class="o">}</span> already exists in the media registry
</span><span class='line'><span class="o">(</span><span class="s1">&#39;~/Library/VirtualBox/VirtualBox.xml&#39;</span><span class="o">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>To get around this, I simply removed <code>~/Library/VirtualBox/VirtualBox.xml</code>. I was then able to vagrant up and continue on with my Chef cookbook.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Citizen Cope Concert]]></title>
    <link href="http://www.nathenharvey.com/blog/2010/12/02/citizen-cope-concert/"/>
    <updated>2010-12-02T21:11:00-05:00</updated>
    <id>http://www.nathenharvey.com/blog/2010/12/02/citizen-cope-concert</id>
    <content type="html"><![CDATA[<p>Citizen Cope came to the Rams Head On Stage in Annapolis for 3 sold out solo shows.  I was at the first one and was able to make some fairly good recordings.</p>

<p>The playlist below includes the entire Cope set.  Have a listen and let me know what you think.</p>

<p>This concert is now also available on <a href="http://www.archive.org/details/CitizenCope-LiveAtRamsHeadOnStage-26Nov2010">Live Music Archive</a>.</p>

<object width="480" height="385"><param name="movie" value="http://www.youtube.com/p/BFA9AD670D22F8CF?hl=en_US&amp;fs=1"><param name="allowFullScreen" value="true"><param name="allowscriptaccess" value="always"><embed src="http://www.youtube.com/p/BFA9AD670D22F8CF?hl=en_US&amp;fs=1" type="application/x-shockwave-flash" allowscriptaccess="always" allowfullscreen="true" width="480" height="385"></embed></object>


<ol>
<li><a href="http://www.youtube.com/watch?v=CkCmd9Q8UMg">Every Waking Moment</a></li>
<li><a href="http://www.youtube.com/watch?v=ka9vdrXATt4">Salvation</a></li>
<li><a href="http://www.youtube.com/watch?v=-acD44WayGE">More Than It Seems</a></li>
<li><a href="http://www.youtube.com/watch?v=R2SVcBRIuoo">Bullet And A Target</a></li>
<li><a href="http://www.youtube.com/watch?v=cMvpUNQ9sHo">Out on the Weekend (Neil Young cover)</a></li>
<li><a href="http://www.youtube.com/watch?v=JAWyAUbjuGA">Holdin&#8217; On</a></li>
<li><a href="http://www.youtube.com/watch?v=U-cQNWG6KRY">All Dressed Up</a></li>
<li><a href="http://www.youtube.com/watch?v=nmHubW0xt3M">Lifeline</a></li>
<li><a href="http://www.youtube.com/watch?v=MoLXeIvsFag">Healing Hands</a></li>
<li><a href="http://www.youtube.com/watch?v=bQw97HbKiZA">Keep Askin&#8217;</a></li>
<li><a href="http://www.youtube.com/watch?v=IdcHdaCnHLg">Pablo Picasso</a></li>
<li><a href="http://www.youtube.com/watch?v=ASrQHQ367hg">D&#8217;Artagnan&#8217;s Theme</a></li>
<li><a href="http://www.youtube.com/watch?v=GFaVnSLKGBY">200,000 (in counterfeit 50 dollar bills)</a></li>
<li><a href="http://www.youtube.com/watch?v=7d2_C-0DVuo">If There&#8217;s Love</a></li>
<li><a href="http://www.youtube.com/watch?v=_HBFALRUiq8">Comin&#8217; Back</a></li>
<li><a href="http://www.youtube.com/watch?v=zcC3D7MZOUc">One Lovely Day</a></li>
<li><a href="http://www.youtube.com/watch?v=CeUeag43IR8">Son&#8217;s Gonna Rise</a></li>
<li><a href="http://www.youtube.com/watch?v=mWfW0Kgoqmc">Sideways</a></li>
<li><a href="http://www.youtube.com/watch?v=Y3cqhOqq7hw">Hurricane Waters</a></li>
<li><a href="http://www.youtube.com/watch?v=xetaamjGX24">Hands of the Saints</a></li>
<li><a href="http://www.youtube.com/watch?v=RtyNYbuyE_w">My Way Home</a></li>
<li><a href="http://www.youtube.com/watch?v=5_8GmyA4V6U">Left For Dead</a></li>
</ol>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Testing mod_rewrite and apache redirects]]></title>
    <link href="http://www.nathenharvey.com/blog/2010/07/16/testing-mod-rewrite-and-apache-redirects/"/>
    <updated>2010-07-16T09:00:00-04:00</updated>
    <id>http://www.nathenharvey.com/blog/2010/07/16/testing-mod-rewrite-and-apache-redirects</id>
    <content type="html"><![CDATA[<p>At <a href="http://www.customink.com">CustomInk</a>, we recently migrated from mongrel to Passenger for our Ruby on Rails website. This migration included a full rewrite of our apache configuration files.</p>

<p>With over 500 redirect and rewrite rules in place I needed a way to ensure my copy-n-paste skills were up to snuff and that we didn&#8217;t loose any redirects along the way.</p>

<p>In my search for help, I found a <a href="http://www.viget.com/extend/test-drive-mod-rewrite-rules-with-testunit/">blog post by Patrick Reagan from Viget labs</a> that described a method for writing tests that will verify all the rewrite rules and redirects. Patrick&#8217;s ideas were packaged up into a gem and available on <a href="http://github.com/eightbitraptor/http_redirect_test">github</a>.</p>

<p>I can now write up tests like:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">should_redirect</span> <span class="s2">&quot;/cink/ideas/ideas.jsp&quot;</span><span class="p">,</span> <span class="ss">:to</span> <span class="o">=&gt;</span> <span class="s2">&quot;/inspiration/&quot;</span>
</span></code></pre></td></tr></table></div></figure>


<p>So now I can to some TDC (test-driven configuration) whenever I get a request for a new redirect.</p>

<p>What other methods have you used to test your rewrite rules?</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Passenger and PHP]]></title>
    <link href="http://www.nathenharvey.com/blog/2010/06/11/passenger-and-php/"/>
    <updated>2010-06-11T09:25:00-04:00</updated>
    <id>http://www.nathenharvey.com/blog/2010/06/11/passenger-and-php</id>
    <content type="html"><![CDATA[<p>I recently migrated a site from mongrel to passenger. Today I learned that the wordpress site that was served up by the same webserver wasn&#8217;t working anymore.</p>

<p>Compared the configurations and everything looked OK, no changes were made as part of the migration. PHP module was being loaded, URL was being properly aliased, etc. Watched my logs and saw that Passenger was attempting to serve up the request which is not what I wanted.</p>

<p>A quick update to my Directory&#8217;s definition and the issue was fixed. I had to explicitly disable Passenger using <code>PassengerEnabled off</code> as seen below:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='apache'><span class='line'>  <span class="nb">Alias</span> <span class="sx">/blog</span> <span class="sx">/shared/www/blog</span>
</span><span class='line'>  <span class="nt">&lt;Directory</span> <span class="s">/shared/www/blog</span><span class="nt">&gt;</span>
</span><span class='line'>    <span class="nb">DirectoryIndex</span> index.php
</span><span class='line'>    <span class="nb">PassengerEnabled</span> <span class="k">off</span>
</span><span class='line'>  <span class="nt">&lt;/Directory&gt;</span>
</span></code></pre></td></tr></table></div></figure>

]]></content>
  </entry>
  
</feed>
